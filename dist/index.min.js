var gulp=require("gulp"),Elixir=require("laravel-elixir"),tinypng=require("gulp-tinypng-compress");const config=Elixir.config,gulpTask=function(i,p,n){const t=prepGulpPaths(i,p);new Elixir.Task("tinypng",function(){return gulp.src(t.src+"/**/*.{png,jpg,jpeg}").pipe(tinypng(n)).pipe(gulp.dest(t.output))}).watch(t.src+"/**/*.{png,jpg,jpeg}")};Elixir.extend("tinypng",function(){gulpTask.apply(this,arguments)});const prepGulpPaths=function(i,p){return p||(p="img"),{src:config.get("img.folder")||config.get("assetsPath")+"/"+i,output:config.get("img.outputFolder")||config.get("publicPath")+"/"+p}};